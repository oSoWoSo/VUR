# Template file for 'hyprdynamicmonitors'
pkgname=hyprdynamicmonitors
version=1.3.8
revision=1
build_style=go
go_import_path="github.com/fiffeek/hyprdynamicmonitors"
hostmakedepends="pkg-config go goreleaser git make dbus-x11 hyprland upower python3-cfgv python3-distlib python3-filelock python3-identify"
#makedepends=""
#depends=""
short_desc="Hyprland configuration based on connected displays, power and lid state"
maintainer="zenobit <zenobit@disroot.org>"
license="MIT"
homepage="https://github.com/fiffeek/hyprdynamicmonitors"
#changelog=""
distfiles="https://github.com/fiffeek/hyprdynamicmonitors/archive/refs/tags/v${version}.tar.gz"
checksum=735de0103e463f8c987a819593ecb2084b82d6fc3de50cf4e1d005cf8016c479
make_check=no # investigating

do_build() {
	goreleaser release --snapshot --clean
}

do_install() {
	make DESTDIR=/usr/bin install
}

post_install() {
	vbin dist/hyprdynamicmonitors_linux_amd64_v1/hyprdynamicmonitors
	vlicense LICENSE
}
