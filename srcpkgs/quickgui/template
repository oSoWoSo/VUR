# Template file for 'quickgui'
pkgname=quickgui
version=1.2.2
revision=1
#archs="i686 x86_64"
#wrksrc=
#create_wrksrc=yes
build_style=gnu-configure
#configure_args=""
#make_build_args=""
#make_install_args=""
#conf_files=""
#make_dirs="/var/log/dir 0755 root root"
hostmakedepends=""
makedepends=""
depends="quickemu zenity"
short_desc="A Flutter frontend for quickget and quickemu."
maintainer="zenobit <pm@osowoso.xyz>"
license="GPL-3.0-or-later"
homepage="https://github.com/quickemu-project/quickgui"
distfiles="https://github.com/quickemu-project/${pkgname}/releases/download/v${version}/${pkgname}-${version}.tar.xz"
checksum=82d0565a2cec2854a1cf622ff7bccae203344c57dc460d189c33f5a7f116757a

package() {
  cd "$pkgname-$pkgver"

  install -Dm755 build/linux/x64/release/bundle/quickgui "$pkgdir/opt/$pkgname/quickgui"
  install -Dm644 assets/resources/quickgui.desktop "${pkgdir}/usr/share/applications/quickgui.desktop"
  install -Dm644 assets/resources/quickgui_512.png "${pkgdir}/usr/share/icons/quickgui_512.png"

  cp -R build/linux/x64/release/bundle/data "$pkgdir/opt/$pkgname"
  cp -R build/linux/x64/release/bundle/lib "$pkgdir/opt/$pkgname"

  install -d "$pkgdir/usr/bin/"
  ln -s /opt/$pkgname/quickgui "$pkgdir/usr/bin/quickgui"
}