# Template file for 'waydroid'
pkgname=waydroid
version=1.2.0
revision=1
depends="gbinder-python lxc python3-gobject python3-pyclip"
short_desc="Container-based approach to boot a full Android system"
maintainer="John <me@johnnynator.dev>"
license="GPL-3.0-or-later"
homepage="https://waydro.id"
distfiles="https://github.com/waydroid/waydroid/archive/${version}.tar.gz"
checksum=0526c84562dfeb688961d9d7e697d557869bf08442b640554d1e07788df098c4
pycompile_dirs="/usr/lib/waydroid"
python_version=3

do_install() {
	vmkdir usr/lib/waydroid
	vmkdir usr/bin

	vcopy tools usr/lib/waydroid
	vcopy data usr/lib/waydroid
	vinstall waydroid.py 755 usr/lib/waydroid
	ln -sr $DESTDIR/usr/lib/waydroid/waydroid.py ${DESTDIR}/usr/bin/waydroid

	vinstall $FILESDIR/gbinder.conf 644 etc
	vinstall $FILESDIR/waydroid-session.desktop 644 etc/xdg/autostart

	vsv waydroid-container
}
