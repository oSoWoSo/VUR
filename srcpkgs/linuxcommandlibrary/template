# Template file for 'linuxcommandlibrary'
pkgname=linuxcommandlibrary
version=3.4.10
revision=1
#archs="i686 x86_64"
#build_wrksrc=
#build_style=gnu-configure
#configure_args=""
#make_build_args=""
#make_install_args=""
#conf_files=""
#make_dirs="/var/log/dir 0755 root root"
hostmakedepends="openjdk17 gradle"
makedepends=""
depends=""
short_desc="1M+ downloads Linux reference app with basics, tips and formatted man pages"
maintainer="zenobit <zenobit@disroot.org>"
license="Apache-2.0"
homepage="http://linuxcommandlibrary.com/"
#changelog=""
distfiles="https://github.com/SimonSchubert/LinuxCommandLibrary/archive/refs/tags/v${version}.tar.gz"
checksum=20bf9b022335e48c53d7a8398f2a432b5b635743c793c2fd38f189382d17de39

export JAVA_HOME=/usr/lib/jvm/openjdk17

do_build() {
	gradle wrapper
	echo
	./gradlew tasks
	echo
	./gradlew :common:createJar

	./gradlew :cli:createFullJarRelease

	./gradlew :desktop:createJar
}

do_install() {
	mkdir -p usr/bin
	cp cli/build/libs/linuxcommandlibrary.jar usr/bin/
}

post_install() {
	vmkdir usr/bin
	vbin cli/build/libs/linuxcommandlibrary.jar
}

