# Template file for 'spacefm'
pkgname=spacefm
version=2.1.2
revision=1
build_style=meson
wrksrc="${pkgname}-${version}"
create_wrksrc=yes
configure_args="$(vopt_with gtk3)"
hostmakedepends="pkg-config intltool"
makedepends="$(vopt_if gtk3 gtk+3-devel gtk+-devel)
 startup-notification-devel eudev-libudev-devel ffmpegthumbnailer-devel"
depends="hicolor-icon-theme desktop-file-utils"
#hostmakedepends="exo-devel sed xxHash-devel glib libbsd-devel libudev ffmpegthumbnailer-devel pkg-config libX11 glib gtk+3 cmake spdlog meson ninja intltool gettext xbps-triggers eudev-libudev-devel"
#makedepends="desktop-file-utils ffmpegthumbnailer pango cairo gdk-pixbuf libX11 shared-mime-info xxHash startup-notification exo fmt eudev-libudev libbsd"
#depends="hicolor-icon-theme desktop-file-utils gtk+3"
short_desc="NOT WORKING YET! Multi-panel tabbed file manager"
maintainer="zenobit from oSoWoSo <pm@osowoso.xyz>"
license="GPL-3.0-or-later"
homepage="https://github.com/thermitegod/spacefm"
distfiles="https://github.com/oSoWoSo/spacefm/archive/${version}.tar.gz"
checksum=fa3f17910a9620f88a80c3a4c8dc9de5ba56255e0cb05227ac0c505988f6d6e9
conf_files="/etc/spacefm/spacefm.conf"

build_options="gtk3"
build_options_default="gtk3"
CFLAGS="-fcommon"

post_patch() {
	vsed -i -e '/DATADIRNAME=/s/=.*/=share/' configure
}
